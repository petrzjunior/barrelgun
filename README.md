# barrelgun

*Generate your barrel files like a cowboy* ðŸ¤ 

![npm version](https://img.shields.io/npm/v/barrelgun)
![MIT license](https://img.shields.io/npm/l/barrelgun)
![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/petrzjunior/barrelgun)
![npm](https://img.shields.io/npm/dw/barrelgun)

Flexible NodeJS generator for barrel files (index.js) and more!

## Usage

Create a config file `barrelgun.config.js`

```js
/** @type {Array<import("barrelgun").BarrelgunConfigBarrel>} */
const barrels = [
		{
			path: "src/components/index.ts",
			files: "*.component.{ts,tsx}",
		},
		{
			path: "test/tests.spec.js",
			files: "**/*.spec.js",
			lineTemplate: (file) => `export {${file.replace(/[/.]/, '_')} from '${file}';`,
			fileTemplate: (files, lineTemplate: LineTemplate) =>
				`// Do not touch of you will be fired!			
${files.reverse().map(file => lineTemplate(file))}
// You have been warned!`,
		},
	];

module.exports = {barrels};
```

and run barrelgun

```shell
npx barrelgun shoot -c barrelgun.config.js
```

The following structure will be created

```
.
â”œâ”€â”€ barrelgun.config.js
â”œâ”€â”€ src
â”‚   â””â”€â”€ components
â”‚       â”œâ”€â”€ button.component.tsx
â”‚       â”œâ”€â”€ dialog.component.ts
â”‚       â””â”€â”€ index.js  <- this file is created
â””â”€â”€ test
    â”œâ”€â”€ ignore.js
    â”œâ”€â”€ all.spec.js
    â””â”€â”€ components
        â””â”€â”€ button.spec.js
    â””â”€â”€ tests.spec.js  <- this file is created
```

`src/components/index.js` now contains

```ts
// Generated by barrelgun. DO NOT EDIT

export * from './button.component.tsx';
export * from './dialog.component.ts';
```

`src/components/index.js` content is

```js
// Do not touch of you will be fired!			
export {components_button_spec_js} from './components/button.spec.js';
export {all_spec_js} from './all.spec.js';
// You have been warned!
```

## Related projects

Inspired by

- https://github.com/jmeyers91/barro
- https://github.com/imjuni/ctix
- https://github.com/bencoveney/barrelsby
